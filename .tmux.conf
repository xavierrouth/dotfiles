set -g default-shell /usr/bin/fish
# vim mode for buffer/copy mode
set -g mode-keys vi
# vim mode for command prompt
set -g status-keys vi
bind -T copy-mode-vi Y send -X copy-line
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection

# Allow OSC 52 clipboard passthrough
set -g allow-passthrough on
set -as terminal-features ',xterm-256color:clipboard'

# TPM plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'alexwforsythe/tmux-which-key'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Auto-save session every 15 minutes and restore on tmux start
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'

# Initialize TPM (must be last line)
run '~/.tmux/plugins/tpm/tpm'